import{a as G,c as k,d as F,e as q,f as O,g as B,h as L,k as R,l as j,m as z,n as U,p as J}from"./chunk-DZ4IZKED.js";import{a as H}from"./chunk-2TNV4GS4.js";import{j as I}from"./chunk-42CU4W7O.js";import{Bb as w,Db as y,Eb as f,Fb as _,Hb as N,Ib as P,Jb as V,Pa as d,Qa as v,cb as g,fc as A,gb as c,gc as T,hc as W,kb as t,kc as D,lb as i,nb as S,oa as C,pb as h,rb as b,ub as x,xa as p,ya as u,yb as M,zb as o}from"./chunk-WKE5PMCN.js";var K=(l,a)=>({"bg-gray-400 cursor-not-allowed":l,"bg-blue-500 hover:bg-indigo-500":a}),Q=()=>({standalone:!0});function X(l,a){l&1&&(t(0,"div",34),o(1," Username is required. "),i())}function Y(l,a){l&1&&(t(0,"div",34),o(1," First name is required. "),i())}function Z(l,a){l&1&&(t(0,"div",34),o(1," Last name is required. "),i())}function $(l,a){l&1&&(t(0,"div",34),o(1," Please enter a valid email address. "),i())}function ee(l,a){l&1&&(t(0,"div",34),o(1," Birth date cannot be in the future. "),i())}function te(l,a){l&1&&(t(0,"div",34),o(1," Basic salary must be a number. "),i())}function ie(l,a){l&1&&(t(0,"div",34),o(1," Status is required. "),i())}function ne(l,a){if(l&1){let s=S();t(0,"li",40),h("click",function(){let e=p(s).$implicit,m=b(2);return u(m.selectGroup(e))}),o(1),i()}if(l&2){let s=a.$implicit;d(),w(" ",s.label," ")}}function oe(l,a){if(l&1){let s=S();t(0,"div",35)(1,"div",36)(2,"input",37),_("ngModelChange",function(e){p(s);let m=b();return f(m.groupSearch,e)||(m.groupSearch=e),u(e)}),h("input",function(){p(s);let e=b();return u(e.filterGroups())}),i()(),t(3,"ul",38),g(4,ne,2,1,"li",39),i()()}if(l&2){let s=b();d(2),y("ngModel",s.groupSearch),c("ngModelOptions",P(3,Q)),d(2),c("ngForOf",s.filteredGroups)}}function re(l,a){l&1&&(t(0,"div",34),o(1," Group is required. "),i())}function le(l,a){l&1&&(t(0,"div",34),o(1," Description is required. "),i())}var E=class l{constructor(a,s){this.router=a;this.employeeService=s;this.filteredGroups=this.groups}username="";firstName="";lastName="";email="";status="";birthDate=null;basicSalary=null;description="";today=new Date().toISOString().split("T")[0];group=null;groupSearch="";dropdownOpen=!1;groupTouched=!1;groups=[];filteredGroups=[...this.groups];addEmployee(){let a={id:Math.floor(Math.random()*1e4),username:this.username,firstName:this.firstName,lastName:this.lastName,email:this.email,birthDate:this.birthDate||new Date,basicSalary:this.basicSalary||0,status:this.status,group:this.group||"",description:this.description};this.employeeService.addEmployee(a),this.router.navigate(["/list-employee"])}cancel(){this.router.navigate(["/list-employee"])}ngOnInit(){this.filterGroups(),this.employeeService.loadGroupFromJson(),this.employeeService.getGroups().subscribe(a=>{this.groups=a}),this.filteredGroups=this.groups}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen,this.groupTouched=!0}filterGroups(){this.filteredGroups=this.groups,this.filteredGroups=this.groups.filter(a=>a.label.toLowerCase().includes(this.groupSearch.toLowerCase()))}selectGroup(a){this.group=a.label,this.dropdownOpen=!1}static \u0275fac=function(s){return new(s||l)(v(I),v(H))};static \u0275cmp=C({type:l,selectors:[["app-add-employee-page"]],standalone:!0,features:[N],decls:80,vars:25,consts:[["employeeForm","ngForm"],[1,"p-12"],[1,"text-2xl","font-bold","mb-4"],[3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"mb-4"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["type","text","id","username","name","username","required","",1,"border","rounded","p-2","w-full",3,"ngModelChange","ngModel"],["class","text-red-500 text-sm",4,"ngIf"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","firstName","name","firstName","required","",1,"border","rounded","p-2","w-full",3,"ngModelChange","ngModel"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","lastName","name","lastName","required","",1,"border","rounded","p-2","w-full",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","name","email","required","",1,"border","rounded","p-2","w-full",3,"ngModelChange","ngModel"],["for","birthDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","birthDate","name","birthDate","required","",1,"border","rounded","p-2","w-full",3,"ngModelChange","ngModel","max"],["for","basicSalary",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","basicSalary","name","basicSalary","required","",1,"border","rounded","p-2","w-full",3,"ngModelChange","ngModel"],["for","status",1,"block","text-sm","font-medium","text-gray-700"],["id","status","name","status","required","",1,"border","rounded","p-2","w-full",3,"ngModelChange","ngModel"],["value","Active"],["value","Inactive"],[1,"mb-4","relative"],["for","group",1,"block","text-sm","font-medium","text-gray-700"],[1,"border","rounded","p-2","w-full","cursor-pointer",3,"click"],["class","absolute z-10 bg-white border rounded shadow-md w-full mt-1",4,"ngIf"],[1,"mb-4","md:col-span-2"],["for","description",1,"block","text-sm","font-medium","text-gray-700"],["id","description","name","description","required","",1,"border","rounded","p-2","w-full",3,"ngModelChange","ngModel"],[1,"flex","justify-between","mt-4"],["type","submit",1,"text-white","px-4","py-2","rounded",3,"disabled","ngClass"],["type","button",1,"bg-blue-500","text-white","px-4","py-2","rounded",3,"click"],[1,"text-red-500","text-sm"],[1,"absolute","z-10","bg-white","border","rounded","shadow-md","w-full","mt-1"],[1,"p-2"],["type","text","placeholder","Search group...",1,"border","rounded","p-2","w-full",3,"ngModelChange","input","ngModel","ngModelOptions"],[1,"max-h-40","overflow-y-auto"],["class","p-2 hover:bg-gray-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"p-2","hover:bg-gray-100","cursor-pointer",3,"click"]],template:function(s,n){if(s&1){let e=S();t(0,"div",1)(1,"h1",2),o(2,"Add Employee"),i(),t(3,"form",3,0),h("ngSubmit",function(){return p(e),u(n.addEmployee())}),t(5,"div",4)(6,"div",5)(7,"label",6),o(8,"Username "),t(9,"span",7),o(10,"*"),i()(),t(11,"input",8),_("ngModelChange",function(r){return p(e),f(n.username,r)||(n.username=r),u(r)}),i(),g(12,X,2,0,"div",9),i(),t(13,"div",5)(14,"label",10),o(15,"First Name "),t(16,"span",7),o(17,"*"),i()(),t(18,"input",11),_("ngModelChange",function(r){return p(e),f(n.firstName,r)||(n.firstName=r),u(r)}),i(),g(19,Y,2,0,"div",9),i(),t(20,"div",5)(21,"label",12),o(22,"Last Name "),t(23,"span",7),o(24,"*"),i()(),t(25,"input",13),_("ngModelChange",function(r){return p(e),f(n.lastName,r)||(n.lastName=r),u(r)}),i(),g(26,Z,2,0,"div",9),i(),t(27,"div",5)(28,"label",14),o(29,"Email "),t(30,"span",7),o(31,"*"),i()(),t(32,"input",15),_("ngModelChange",function(r){return p(e),f(n.email,r)||(n.email=r),u(r)}),i(),g(33,$,2,0,"div",9),i(),t(34,"div",5)(35,"label",16),o(36,"Birth Date "),t(37,"span",7),o(38,"*"),i()(),t(39,"input",17),_("ngModelChange",function(r){return p(e),f(n.birthDate,r)||(n.birthDate=r),u(r)}),i(),g(40,ee,2,0,"div",9),i(),t(41,"div",5)(42,"label",18),o(43,"Basic Salary "),t(44,"span",7),o(45,"*"),i()(),t(46,"input",19),_("ngModelChange",function(r){return p(e),f(n.basicSalary,r)||(n.basicSalary=r),u(r)}),i(),g(47,te,2,0,"div",9),i(),t(48,"div",5)(49,"label",20),o(50,"Status "),t(51,"span",7),o(52,"*"),i()(),t(53,"select",21),_("ngModelChange",function(r){return p(e),f(n.status,r)||(n.status=r),u(r)}),t(54,"option",22),o(55,"Active"),i(),t(56,"option",23),o(57,"Inactive"),i()(),g(58,ie,2,0,"div",9),i(),t(59,"div",24)(60,"label",25),o(61," Group "),t(62,"span",7),o(63,"*"),i()(),t(64,"div",26),h("click",function(){return p(e),u(n.toggleDropdown())}),o(65),i(),g(66,oe,5,4,"div",27)(67,re,2,0,"div",9),i(),t(68,"div",28)(69,"label",29),o(70,"Description "),t(71,"span",7),o(72,"*"),i()(),t(73,"textarea",30),_("ngModelChange",function(r){return p(e),f(n.description,r)||(n.description=r),u(r)}),i(),g(74,le,2,0,"div",9),i()(),t(75,"div",31)(76,"button",32),o(77,"Save"),i(),t(78,"button",33),h("click",function(){return p(e),u(n.cancel())}),o(79,"Cancel"),i()()()()}if(s&2){let e=M(4);d(11),y("ngModel",n.username),d(),c("ngIf",(e.controls.username==null?null:e.controls.username.invalid)&&(e.controls.username==null?null:e.controls.username.touched)),d(6),y("ngModel",n.firstName),d(),c("ngIf",(e.controls.firstName==null?null:e.controls.firstName.invalid)&&(e.controls.firstName==null?null:e.controls.firstName.touched)),d(6),y("ngModel",n.lastName),d(),c("ngIf",(e.controls.lastName==null?null:e.controls.lastName.invalid)&&(e.controls.lastName==null?null:e.controls.lastName.touched)),d(6),y("ngModel",n.email),d(),c("ngIf",(e.controls.email==null?null:e.controls.email.invalid)&&(e.controls.email==null?null:e.controls.email.touched)),d(6),x("max",n.today),y("ngModel",n.birthDate),d(),c("ngIf",(e.controls.birthDate==null?null:e.controls.birthDate.invalid)&&(e.controls.birthDate==null?null:e.controls.birthDate.touched)),d(6),y("ngModel",n.basicSalary),d(),c("ngIf",(e.controls.basicSalary==null?null:e.controls.basicSalary.invalid)&&(e.controls.basicSalary==null?null:e.controls.basicSalary.touched)),d(6),y("ngModel",n.status),d(5),c("ngIf",(e.controls.status==null?null:e.controls.status.invalid)&&(e.controls.status==null?null:e.controls.status.touched)),d(7),w(" ",n.group||"Select a group"," "),d(),c("ngIf",n.dropdownOpen),d(),c("ngIf",!n.group&&n.groupTouched),d(6),y("ngModel",n.description),d(),c("ngIf",(e.controls.description==null?null:e.controls.description.invalid)&&(e.controls.description==null?null:e.controls.description.touched)),d(2),c("disabled",!e.valid)("ngClass",V(22,K,e.invalid,!e.invalid))}},dependencies:[D,A,T,W,J,B,j,z,G,L,R,k,F,U,O,q]})};export{E as default};
