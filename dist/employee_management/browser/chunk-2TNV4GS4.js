import{a as r,b as a}from"./chunk-42CU4W7O.js";import{aa as i,ea as l,ja as m,k as p,q as n}from"./chunk-WKE5PMCN.js";var y=class o{constructor(e){this.http=e;this.loadEmployeesFromJson()}employees=[];group=[];employeesSubject=new p(this.employees);groupsSubject=new p(this.group);loadGroupFromJson(){this.http.get("assets/json/group.json",{headers:new r({"Content-Type":"application/json",Accept:"application/json"}),observe:"response",withCredentials:!0}).pipe(i(e=>{this.group=e.body??[],this.groupsSubject.next(this.group)})).subscribe()}getGroups(){return this.groupsSubject.asObservable()}loadEmployeesFromJson(){this.http.get("assets/json/employee.json",{headers:new r({"Content-Type":"application/json",Accept:"application/json"}),observe:"response",withCredentials:!0}).pipe(i(e=>{this.employees=e.body??[],this.employeesSubject.next(this.employees)})).subscribe()}getEmployees(){return this.employeesSubject.asObservable()}addEmployee(e){this.employees.push(e),this.employeesSubject.next(this.employees)}editEmployee(e){let t=this.employees.findIndex(s=>s.id===e.id);t!==-1&&(this.employees[t]=e,this.employeesSubject.next(this.employees))}deleteEmployee(e){return this.employees=this.employees.filter(t=>t.id!==e),this.employeesSubject.next(this.employees),n()}getEmployeeById(e){let t=this.employees.find(s=>s.id===e);return t?[t]:[]}static \u0275fac=function(t){return new(t||o)(m(a))};static \u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})};export{y as a};
